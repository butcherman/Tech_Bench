(self.webpackChunk=self.webpackChunk||[]).push([[172],{7482:(t,e,s)=>{"use strict";s.d(e,{Z:()=>n});const a={props:{},data:function(){return{showNav:!1}},created:function(){},mounted:function(){},computed:{app:function(){return this.$page.props.app},user:function(){return this.$page.props.user},navbarActive:function(){return this.showNav?"active":""},navbar:function(){return this.$page.props.navBar}},watch:{},methods:{}};const n=(0,s(1900).Z)(a,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"app-layout"},[s("nav",{staticClass:"navbar top-navbar fixed-top"},[s("div",{staticClass:"navbar-logo-wrapper d-flex"},[s("inertia-link",{staticClass:"navbar-logo",attrs:{href:t.route("dashboard")}},[s("img",{staticClass:"mr-2",attrs:{src:t.app.logo,alt:t.app.name}})])],1),t._v(" "),s("div",{staticClass:"navbar-brand d-none d-md-flex"},[s("h2",[t._v(t._s(t.app.name))])]),t._v(" "),s("div",{staticClass:"navbar-data"},[s("inertia-link",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"text-muted",attrs:{href:t.route("about"),title:"About "+t.app.name}},[s("i",{staticClass:"fas fa-info-circle"})]),t._v(" "),s("b-dropdown",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{variant:"link",title:"Account"},scopedSlots:t._u([{key:"button-content",fn:function(){return[s("b-avatar",{attrs:{variant:"warning",text:t.user.initials}})]},proxy:!0}])},[t._v(" "),s("inertia-link",{attrs:{as:"b-dropdown-item",href:t.route("settings.index")}},[s("i",{staticClass:"fas fa-cog"}),t._v(" Settings")]),t._v(" "),s("inertia-link",{attrs:{as:"b-dropdown-item",href:t.route("password.edit","change")}},[s("i",{staticClass:"fas fa-key"}),t._v(" Change Password")]),t._v(" "),s("b-dropdown-divider"),t._v(" "),s("inertia-link",{attrs:{as:"b-dropdown-item",method:"post",href:t.route("logout")}},[s("i",{staticClass:"fas fa-sign-out-alt"}),t._v(" Logout")])],1),t._v(" "),s("button",{staticClass:"navbar-toggler d-lg-none",attrs:{type:"button"},on:{click:function(e){t.showNav=!t.showNav}}},[s("i",{staticClass:"fas fa-bars"})])],1)]),t._v(" "),s("div",{staticClass:"container-fluid page-body-wrapper"},[s("nav",{staticClass:"sidebar sidebar-nav",class:t.navbarActive,attrs:{id:"side-nav"}},[s("ul",{staticClass:"nav"},t._l(t.navbar,(function(e){return s("li",{key:e.name,staticClass:"nav-item"},[s("inertia-link",{staticClass:"nav-link",attrs:{href:e.route}},[s("i",{staticClass:"menu-icon",class:e.icon}),t._v(" "),s("span",{staticClass:"menu-title"},[t._v(t._s(e.name))])])],1)})),0)]),t._v(" "),s("div",{staticClass:"content"},[s("div",{staticClass:"content-wrapper"},[s("b-alert",{attrs:{variant:t.$page.props.flash.type,show:!!t.$page.props.flash.message&&30}},[s("p",{staticClass:"text-center"},[t._v(t._s(t.$page.props.flash.message))])]),t._v(" "),t._t("default")],2),t._v(" "),s("axios-error"),t._v(" "),s("footer",{staticClass:" footer page-footer"},[s("div",{staticClass:"d-sm-flex justify-content-center justify-content-sm-between"},[t._m(0),t._v(" "),s("span",{staticClass:"text-muted float-none float-sm-right d-block mt-1 mt-sm-0 text-center"},[t._v(t._s(t.app.version))])])])],1)])])}),[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("span",{staticClass:"text-muted text-center text-sm-left d-block d-sm-inline-block"},[t._v("Copyright © 2016-2021"),s("span",{staticClass:"d-none d-md-inline"},[t._v(" Butcherman - All rights reserved.")])])}],!1,null,null,null).exports},4172:(t,e,s)=>{"use strict";s.r(e),s.d(e,{default:()=>n});const a={layout:s(7482).Z,props:{list:{type:Array,required:!0}},data:function(){return{loading:!1,selected:[],fields:[{key:"selected",label:"",sortable:!1},{key:"cust_id",label:"ID",sortable:!0},{key:"name",label:"Name",sortable:!0},{key:"city",label:"City",sortable:!0},{key:"deleted_at",label:"Deactivated Date",sortable:!0}]}},created:function(){},mounted:function(){},computed:{},watch:{},methods:{updateSelected:function(t){this.selected=t},restore:function(){var t=this,e=0;this.loading=!0,this.selected.forEach((function(s){axios.get(route("customers.restore",s.cust_id)).then((function(){++e===t.selected.length&&t.$inertia.get(route("customers.show-deactivated"))})).catch((function(e){return t.eventHub.$emit("axiosError",e)}))}))},deleteCust:function(){var t=this;this.$bvModal.msgBoxConfirm("This is permanent and cannot be undone",{title:"Are you sure?",size:"sm",buttonSize:"sm",okVariant:"danger",okTitle:"YES",cancelTitle:"NO",footerClass:"p-2",hideHeaderClose:!1,centered:!0}).then((function(e){if(e){var s=0;t.loading=!0,t.selected.forEach((function(e){axios.delete(t.route("customers.force-delete",e.cust_id)).then((function(e){++s===t.selected.length&&t.$inertia.get(route("customers.show-deactivated"))})).catch((function(e){return t.eventHub.$emit("axiosError",e)}))}))}}))}}};const n=(0,s(1900).Z)(a,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t._m(0),t._v(" "),s("div",{staticClass:"row grid-margin justify-content-center"},[s("div",{staticClass:"col-10"},[s("div",{staticClass:"card"},[s("div",{staticClass:"card-body"},[s("b-overlay",{attrs:{show:t.loading},scopedSlots:t._u([{key:"overlay",fn:function(){return[s("form-loader")]},proxy:!0}])},[t._v(" "),s("b-table",{attrs:{striped:"",responsive:"",items:t.list,fields:t.fields,selectable:"","select-mode":"multi"},on:{"row-selected":t.updateSelected},scopedSlots:t._u([{key:"cell(selected)",fn:function(e){return[e.rowSelected?[s("span",{attrs:{"aria-hidden":"true"}},[t._v("✓")])]:t._e()]}}])}),t._v(" "),t.selected.length>0?s("div",{staticClass:"text-center"},[s("b-button",{attrs:{variant:"success"},on:{click:t.restore}},[t._v("Restore Selected Customers")]),t._v(" "),s("b-button",{attrs:{variant:"danger"},on:{click:t.deleteCust}},[t._v("Delete Selected Customers")])],1):t._e()],1)],1)])])])])}),[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row grid-margin"},[s("div",{staticClass:"col-md-12"},[s("h4",{staticClass:"text-center text-md-left"},[t._v("Deactivated Customers")])])])}],!1,null,null,null).exports}}]);