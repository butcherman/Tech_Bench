"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[406],{3552:(t,e,s)=>{s.d(e,{Z:()=>n});const a={props:{},data:function(){return{showNav:!1,alert:{type:null,message:null}}},created:function(){},mounted:function(){var t=this;this.eventHub.$on("show-alert",(function(e){t.alert.message=e.message,t.alert.type=e.type})),this.eventHub.$on("clear-alert",(function(){t.alert.message=null,t.alert.type=null}))},computed:{app:function(){return this.$page.props.app},navbarActive:function(){return this.showNav?"active":""},navbar:function(){return this.$page.props.navBar}},watch:{},methods:{}};const n=(0,s(1900).Z)(a,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"app-layout"},[s("nav",{staticClass:"navbar top-navbar fixed-top"},[s("div",{staticClass:"navbar-logo-wrapper d-flex"},[s("inertia-link",{staticClass:"navbar-logo",attrs:{href:t.route("dashboard")}},[s("img",{staticClass:"mr-2",attrs:{src:t.app.logo,alt:t.app.name}})])],1),t._v(" "),s("div",{staticClass:"navbar-brand d-none d-md-flex"},[s("h2",[t._v(t._s(t.app.name))])]),t._v(" "),s("div",{staticClass:"navbar-data"},[s("inertia-link",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"text-muted",attrs:{href:t.route("about"),title:"About "+t.app.name}},[s("i",{staticClass:"fas fa-info-circle"})]),t._v(" "),s("b-dropdown",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{variant:"link",title:"Account"},scopedSlots:t._u([{key:"button-content",fn:function(){return[s("b-avatar",{attrs:{variant:"warning",text:t.app.user.initials}})]},proxy:!0}])},[t._v(" "),s("inertia-link",{attrs:{as:"b-dropdown-item",href:t.route("settings.index")}},[s("i",{staticClass:"fas fa-cog"}),t._v(" Settings")]),t._v(" "),s("inertia-link",{attrs:{as:"b-dropdown-item",href:t.route("password.index")}},[s("i",{staticClass:"fas fa-key"}),t._v(" Change Password")]),t._v(" "),s("b-dropdown-divider"),t._v(" "),s("inertia-link",{attrs:{as:"b-dropdown-item",method:"post",href:t.route("logout")}},[s("i",{staticClass:"fas fa-sign-out-alt"}),t._v(" Logout")])],1),t._v(" "),s("button",{staticClass:"navbar-toggler d-xl-none",attrs:{type:"button"},on:{click:function(e){t.showNav=!t.showNav}}},[s("i",{staticClass:"fas fa-bars"})])],1)]),t._v(" "),s("div",{staticClass:"container-fluid page-body-wrapper"},[s("nav",{staticClass:"sidebar sidebar-nav",class:t.navbarActive,attrs:{id:"side-nav"}},[s("ul",{staticClass:"nav"},t._l(t.navbar,(function(e){return s("li",{key:e.name,staticClass:"nav-item"},[s("inertia-link",{staticClass:"nav-link",attrs:{href:e.route}},[s("i",{staticClass:"menu-icon",class:e.icon}),t._v(" "),s("span",{staticClass:"menu-title"},[t._v(t._s(e.name))])])],1)})),0)]),t._v(" "),s("div",{staticClass:"content"},[s("div",{staticClass:"content-wrapper"},[s("b-alert",{attrs:{variant:t.$page.props.flash.type,show:!!t.$page.props.flash.message&&30}},[s("p",{staticClass:"text-center"},[t._v(t._s(t.$page.props.flash.message))])]),t._v(" "),s("b-alert",{attrs:{variant:t.alert.type,show:!!t.alert.message&&30}},[s("p",{staticClass:"text-center"},[t._v(t._s(t.alert.message))])]),t._v(" "),t._t("default")],2),t._v(" "),s("axios-error"),t._v(" "),s("footer",{staticClass:" footer page-footer"},[s("div",{staticClass:"d-sm-flex justify-content-center justify-content-sm-between"},[t._m(0),t._v(" "),s("span",{staticClass:"text-muted float-none float-sm-right d-block mt-1 mt-sm-0 text-center"},[t._v(t._s(t.app.version))])])])],1)])])}),[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("span",{staticClass:"text-muted text-center text-sm-left d-block d-sm-inline-block"},[t._v("Copyright Â© 2016-2021"),s("span",{staticClass:"d-none d-md-inline"},[t._v(" Butcherman - All rights reserved.")])])}],!1,null,null,null).exports},3406:(t,e,s)=>{s.r(e),s.d(e,{default:()=>n});const a={layout:s(3552).Z,props:{settings:{type:Object,required:!0}},data:function(){return{submitted:!1,sending:!1,form:this.$inertia.form({from_address:this.settings.from_address,username:this.settings.username,password:this.settings.username?"RandomString":null,host:this.settings.host,port:this.settings.port,encryption:this.settings.encryption,authentication:null!=this.settings.username}),encryptionOptions:[{value:"tls",text:"TLS"},{value:"ssl",text:"SSL"},{value:"none",text:"None"}]}},methods:{submitForm:function(){var t=this;this.submitted=!0,this.form.post(route("admin.set-email"),{onFinish:function(){t.submitted=!1}})},sendTestEmail:function(){var t=this;this.form.isDirty?this.$bvModal.msgBoxOk("Email Settings have changed.  Please save before sending test email"):(this.sending=!0,axios.get(route("admin.test-email")).then((function(e){t.sending=!1,e.data.success?t.$bvModal.msgBoxOk("Test Email Sent"):t.$bvModal.msgBoxOk("Response from server - "+e.data.message)})).catch((function(e){return t.eventHub.$emit("axiosError",e)})))}}};const n=(0,s(1900).Z)(a,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t._m(0),t._v(" "),s("div",{staticClass:"row justify-content-center"},[s("div",{staticClass:"col-md-8"},[s("div",{staticClass:"card"},[s("div",{staticClass:"card-body"},[s("ValidationObserver",{scopedSlots:t._u([{key:"default",fn:function(e){var a=e.handleSubmit;return[s("b-overlay",{attrs:{show:t.submitted},scopedSlots:t._u([{key:"overlay",fn:function(){return[s("form-loader",{attrs:{text:"Processing..."}})]},proxy:!0}],null,!0)},[t._v(" "),s("b-form",{attrs:{novalidate:""},on:{submit:function(e){return e.preventDefault(),a(t.submitForm)}}},[s("text-input",{attrs:{type:"email",rules:"required|email",label:"From Email Address",placeholder:"no-reply@example.com"},model:{value:t.form.from_address,callback:function(e){t.$set(t.form,"from_address",e)},expression:"form.from_address"}}),t._v(" "),s("text-input",{attrs:{type:"text",rules:"required",label:"Host",placeholder:"smtp.example.com"},model:{value:t.form.host,callback:function(e){t.$set(t.form,"host",e)},expression:"form.host"}}),t._v(" "),s("text-input",{attrs:{type:"number",rules:"required",label:"Port",placeholder:"25"},model:{value:t.form.port,callback:function(e){t.$set(t.form,"port",e)},expression:"form.port"}}),t._v(" "),s("dropdown-input",{attrs:{ruled:"required",label:"Encryption Type",options:t.encryptionOptions},model:{value:t.form.encryption,callback:function(e){t.$set(t.form,"encryption",e)},expression:"form.encryption"}}),t._v(" "),s("b-form-checkbox",{staticClass:"text-center",attrs:{switch:""},model:{value:t.form.authentication,callback:function(e){t.$set(t.form,"authentication",e)},expression:"form.authentication"}},[t._v("\n                                    Authentication\n                                ")]),t._v(" "),s("transition",{attrs:{name:"fade"}},[t.form.authentication?s("div",[s("text-input",{attrs:{type:"text",rules:"required",label:"Email Username",placeholder:"Enter Username"},model:{value:t.form.username,callback:function(e){t.$set(t.form,"username",e)},expression:"form.username"}}),t._v(" "),s("text-input",{attrs:{type:"password",rules:"required",label:"Email Password",placeholder:"Enter Password"},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}})],1):t._e()]),t._v(" "),s("submit-button",{staticClass:"mt-3",attrs:{button_text:"Save Email Settings",submitted:t.submitted}})],1)],1)]}}])}),t._v(" "),s("b-button",{staticClass:"mt-3",attrs:{variant:"warning",block:"",disabled:t.sending},on:{click:t.sendTestEmail}},[t.sending?s("span",[s("span",{staticClass:"spinner-border spinner-border-sm text-danger"}),t._v("\n                            Sending....\n                        ")]):s("span",[t._v("Send Test Email")])])],1)])])])])}),[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row"},[s("div",{staticClass:"col-12 grid-margin"},[s("h4",{staticClass:"text-center text-md-left"},[t._v("Email Settings")])])])}],!1,null,null,null).exports}}]);