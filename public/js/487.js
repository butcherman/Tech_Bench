(self.webpackChunk=self.webpackChunk||[]).push([[487],{4440:(t,e,a)=>{"use strict";a.d(e,{Z:()=>r});const s={props:{modalTitle:{type:String,default:"Select Customer From List"}},data:function(){return{loading:!1,showModal:!1,searchParam:{page:null,perPage:10,sortField:"name",sortType:"asc",name:null},results:[],meta:{from:null,to:null,total:null,previous:null,next:null}}},methods:{open:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.searchParam.name=t,this.showModal=!0,this.search()},close:function(){this.showModal=!1,this.searchParam.name=null},search:function(){var t=this;this.loading=!0,axios.post(this.route("customers.search"),this.searchParam).then((function(e){t.searchParam.page=e.data.current_page,t.results=e.data.data,t.meta.from=e.data.from,t.meta.to=e.data.to,t.meta.total=e.data.total,t.meta.previous=e.data.prev_page_url,t.meta.next=e.data.next_page_url,t.loading=!1}))},selectCustomer:function(t){this.$emit("selected-customer",t),this.close()}}};const r=(0,a(1900).Z)(s,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-modal",{ref:"customer-quick-search-modal",attrs:{size:"lg",scrollable:"","hide-footer":"",visible:t.showModal,title:t.modalTitle},on:{close:t.close,cancel:t.close,hide:t.close}},[a("b-overlay",{attrs:{show:t.loading}},[a("ValidationObserver",{scopedSlots:t._u([{key:"default",fn:function(e){var s=e.handleSubmit;return[a("b-form",{attrs:{novalidate:""},on:{submit:function(e){return e.preventDefault(),s(t.search)}}},[a("b-form-row",[a("b-col",{attrs:{md:"10"}},[a("b-input",{attrs:{name:"name",placeholder:"Search Customer Name or ID Number"},model:{value:t.searchParam.name,callback:function(e){t.$set(t.searchParam,"name",e)},expression:"searchParam.name"}})],1),t._v(" "),a("b-col",{attrs:{md:"2"}},[a("submit-button",{staticClass:"mt-auto",attrs:{button_text:"Search",submitted:t.loading}})],1)],1)],1)]}}])}),t._v(" "),a("div",[a("b-list-group",[t._l(t.results,(function(e,s){return a("b-list-group-item",{key:s,staticClass:"pointer",on:{click:function(a){return t.selectCustomer(e)}}},[t._v(t._s(e.name))])})),t._v(" "),t.results.length>0?a("b-list-group-item",[a("b-row",{staticClass:"text-muted"},[a("b-col",{staticClass:"text-left"},[t.meta.previous?a("span",{staticClass:"pointer",on:{click:function(e){t.searchParam.page--,t.search()}}},[a("span",{staticClass:"fas fa-angle-double-left"}),t._v("\n                                Previous\n                            ")]):t._e()]),t._v(" "),a("b-col",{staticClass:"text-center"},[t._v("\n                            Showing items "+t._s(t.meta.from)+" to "+t._s(t.meta.to)+" of "+t._s(t.meta.total)+"\n                        ")]),t._v(" "),a("b-col",{staticClass:"text-right"},[t.meta.next?a("span",{staticClass:"pointer",on:{click:function(e){t.searchParam.page++,t.search()}}},[t._v("\n                                Next\n                                "),a("span",{staticClass:"fas fa-angle-double-right"})]):t._e()])],1)],1):t._e()],2)],1)],1)],1)}),[],!1,null,null,null).exports},7482:(t,e,a)=>{"use strict";a.d(e,{Z:()=>r});const s={props:{},data:function(){return{showNav:!1}},created:function(){},mounted:function(){},computed:{app:function(){return this.$page.props.app},user:function(){return this.$page.props.user},navbarActive:function(){return this.showNav?"active":""},navbar:function(){return this.$page.props.navBar}},watch:{},methods:{}};const r=(0,a(1900).Z)(s,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-layout"},[a("nav",{staticClass:"navbar top-navbar fixed-top"},[a("div",{staticClass:"navbar-logo-wrapper d-flex"},[a("inertia-link",{staticClass:"navbar-logo",attrs:{href:t.route("dashboard")}},[a("img",{staticClass:"mr-2",attrs:{src:t.app.logo,alt:t.app.name}})])],1),t._v(" "),a("div",{staticClass:"navbar-brand d-none d-md-flex"},[a("h2",[t._v(t._s(t.app.name))])]),t._v(" "),a("div",{staticClass:"navbar-data"},[a("inertia-link",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"text-muted",attrs:{href:t.route("about"),title:"About "+t.app.name}},[a("i",{staticClass:"fas fa-info-circle"})]),t._v(" "),a("b-dropdown",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{variant:"link",title:"Account"},scopedSlots:t._u([{key:"button-content",fn:function(){return[a("b-avatar",{attrs:{variant:"warning",text:t.user.initials}})]},proxy:!0}])},[t._v(" "),a("inertia-link",{attrs:{as:"b-dropdown-item",href:t.route("settings.index")}},[a("i",{staticClass:"fas fa-cog"}),t._v(" Settings")]),t._v(" "),a("inertia-link",{attrs:{as:"b-dropdown-item",href:t.route("password.edit","change")}},[a("i",{staticClass:"fas fa-key"}),t._v(" Change Password")]),t._v(" "),a("b-dropdown-divider"),t._v(" "),a("inertia-link",{attrs:{as:"b-dropdown-item",method:"post",href:t.route("logout")}},[a("i",{staticClass:"fas fa-sign-out-alt"}),t._v(" Logout")])],1),t._v(" "),a("button",{staticClass:"navbar-toggler d-lg-none",attrs:{type:"button"},on:{click:function(e){t.showNav=!t.showNav}}},[a("i",{staticClass:"fas fa-bars"})])],1)]),t._v(" "),a("div",{staticClass:"container-fluid page-body-wrapper"},[a("nav",{staticClass:"sidebar sidebar-nav",class:t.navbarActive,attrs:{id:"side-nav"}},[a("ul",{staticClass:"nav"},t._l(t.navbar,(function(e){return a("li",{key:e.name,staticClass:"nav-item"},[a("inertia-link",{staticClass:"nav-link",attrs:{href:e.route}},[a("i",{staticClass:"menu-icon",class:e.icon}),t._v(" "),a("span",{staticClass:"menu-title"},[t._v(t._s(e.name))])])],1)})),0)]),t._v(" "),a("div",{staticClass:"content"},[a("div",{staticClass:"content-wrapper"},[a("b-alert",{attrs:{variant:t.$page.props.flash.type,show:!!t.$page.props.flash.message&&30}},[a("p",{staticClass:"text-center"},[t._v(t._s(t.$page.props.flash.message))])]),t._v(" "),t._t("default")],2),t._v(" "),a("axios-error"),t._v(" "),a("footer",{staticClass:" footer page-footer"},[a("div",{staticClass:"d-sm-flex justify-content-center justify-content-sm-between"},[t._m(0),t._v(" "),a("span",{staticClass:"text-muted float-none float-sm-right d-block mt-1 mt-sm-0 text-center"},[t._v(t._s(t.app.version))])])])],1)])])}),[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"text-muted text-center text-sm-left d-block d-sm-inline-block"},[t._v("Copyright Â© 2016-2021"),a("span",{staticClass:"d-none d-md-inline"},[t._v(" Butcherman - All rights reserved.")])])}],!1,null,null,null).exports},9487:(t,e,a)=>{"use strict";a.r(e),a.d(e,{default:()=>n});var s=a(7482);const r={components:{QuickSearch:a(4440).Z},layout:s.Z,props:{errors:{type:Object,required:!1}},data:function(){return{form:{cust_id:"",parent_id:"",parent_name:"",name:"",dba_name:"",address:"",city:"",state:"",zip:""},parentState:null,submitted:!1,parentList:[]}},methods:{submitForm:function(){this.submitted=!0,this.$inertia.post(route("customers.store"),this.form)},checkParent:function(t){null===this.form.parent_name||""===this.form.parent_name&&"click"!==t.type?this.form.parent_id=null:this.$refs["quick-search"].open(this.form.parent_name)},selectedParent:function(t){this.form.parent_name=t.name,this.form.parent_id=t.cust_id}}};const n=(0,a(1900).Z)(r,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t._m(0),t._v(" "),a("div",{staticClass:"row justify-content-center grid-margins"},[a("div",{staticClass:"col-md-8"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-body"},[a("b-overlay",{attrs:{show:t.submitted},scopedSlots:t._u([{key:"overlay",fn:function(){return[a("form-loader")]},proxy:!0}])},[t._v(" "),a("ValidationObserver",{scopedSlots:t._u([{key:"default",fn:function(e){var s=e.handleSubmit;return[a("b-form",{attrs:{novalidate:""},on:{submit:function(e){return e.preventDefault(),s(t.submitForm)}}},[a("b-form-row",[a("b-col",{attrs:{md:"6"}},[a("text-input",{attrs:{name:"cust_id",placeholder:"Enter Customer ID Number",rules:"numeric|unique-customer",mode:"lazy",errors:t.errors},scopedSlots:t._u([{key:"label",fn:function(){return[t._v("\n                                                Customer ID:\n                                                "),a("i",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip:hover",arg:"hover"}],staticClass:"far fa-question-circle pointer text-warning",attrs:{title:"Click for More Information"},on:{click:function(e){return t.$bvToast.show("cust-id-toast")}}})]},proxy:!0}],null,!0),model:{value:t.form.cust_id,callback:function(e){t.$set(t.form,"cust_id",e)},expression:"form.cust_id"}})],1),t._v(" "),a("b-col",{attrs:{md:"6"}},[a("ValidationProvider",{attrs:{mode:"lazy"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("b-form-group",{attrs:{"label-for":"parent_name"}},[a("template",{slot:"label"},[t._v("\n                                                    Parent Site:\n                                                    "),a("i",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip:hover",arg:"hover"}],staticClass:"far fa-question-circle pointer text-warning",attrs:{title:"Click for More Information"},on:{click:function(e){return t.$bvToast.show("parent-id-toast")}}})]),t._v(" "),a("b-input-group",[a("b-form-input",{attrs:{id:"parent_name",name:"parent_name",type:"text",placeholder:"(Optional)",state:t.parentState},on:{blur:t.checkParent},model:{value:t.form.parent_name,callback:function(e){t.$set(t.form,"parent_name",e)},expression:"form.parent_name"}}),t._v(" "),a("b-input-group-append",[a("b-button",{attrs:{varient:"primary"},on:{click:t.checkParent}},[a("span",{staticClass:"fas fa-search"})])],1)],1),t._v(" "),a("b-form-invalid-feedback",{attrs:{state:!1}},[t._v(t._s(e.errors[0]))])],2)]}}],null,!0)})],1)],1),t._v(" "),a("text-input",{attrs:{label:"Customer Name",name:"name",placeholder:"Enter Customer Name",rules:"required",errors:t.errors},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}}),t._v(" "),a("text-input",{attrs:{label:"DBA Name",name:"dba_name",placeholder:"Customer secondary name/AKA name",errors:t.errors},model:{value:t.form.dba_name,callback:function(e){t.$set(t.form,"dba_name",e)},expression:"form.dba_name"}}),t._v(" "),a("text-input",{attrs:{label:"Customer Address",name:"address",rules:"required",errors:t.errors},model:{value:t.form.address,callback:function(e){t.$set(t.form,"address",e)},expression:"form.address"}}),t._v(" "),a("text-input",{attrs:{label:"City",name:"city",rules:"required",errors:t.errors},model:{value:t.form.city,callback:function(e){t.$set(t.form,"city",e)},expression:"form.city"}}),t._v(" "),a("b-form-row",[a("b-col",{attrs:{md:"6"}},[a("all-states",{model:{value:t.form.state,callback:function(e){t.$set(t.form,"state",e)},expression:"form.state"}})],1),t._v(" "),a("b-col",{attrs:{md:"6"}},[a("text-input",{attrs:{label:"Zip Code",name:"zip",rules:"required|numeric",errors:t.errors},model:{value:t.form.zip,callback:function(e){t.$set(t.form,"zip",e)},expression:"form.zip"}})],1)],1),t._v(" "),a("submit-button",{attrs:{button_text:"Create Customer",submitted:t.submitted}})],1)]}}])})],1)],1)])])]),t._v(" "),a("b-toast",{attrs:{id:"cust-id-toast",title:"Instructions for Customer ID",variant:"info"}},[a("p",{staticClass:"my-4 text-center"},[t._v("Enter the unique identifier to be used for this customer.")]),t._v(" "),a("p",{staticClass:"my-4 text-center"},[t._v("This ID should match the ID used in your billing software.")]),t._v(" "),a("p",{staticClass:"my-4 text-center"},[t._v("Leave blank to auto generate an ID.")])]),t._v(" "),a("b-toast",{attrs:{id:"parent-id-toast",title:"Instructions for Parent Site",variant:"info"}},[a("p",{staticClass:"my-4 text-center"},[t._v("If this is part of a Multi-Site customer that needs to include its own information, or share information with another site, enter the name of the priamry customer site.")])]),t._v(" "),a("quick-search",{ref:"quick-search",on:{"selected-customer":t.selectedParent}})],1)}),[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row grid-margin"},[a("div",{staticClass:"col-md-12"},[a("h4",{staticClass:"text-center text-md-left"},[t._v("Create New Customer")])])])}],!1,null,null,null).exports}}]);