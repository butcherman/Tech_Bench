"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[150],{3552:(t,e,s)=>{s.d(e,{Z:()=>i});const a={props:{},data:function(){return{showNav:!1,alert:{type:null,message:null}}},created:function(){},mounted:function(){var t=this;this.eventHub.$on("show-alert",(function(e){t.alert.message=e.message,t.alert.type=e.type})),this.eventHub.$on("clear-alert",(function(){t.alert.message=null,t.alert.type=null}))},computed:{app:function(){return this.$page.props.app},navbarActive:function(){return this.showNav?"active":""},navbar:function(){return this.$page.props.navBar}},watch:{},methods:{}};const i=(0,s(1900).Z)(a,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"app-layout"},[s("nav",{staticClass:"navbar top-navbar fixed-top"},[s("div",{staticClass:"navbar-logo-wrapper d-flex"},[s("inertia-link",{staticClass:"navbar-logo",attrs:{href:t.route("dashboard")}},[s("img",{staticClass:"mr-2",attrs:{src:t.app.logo,alt:t.app.name}})])],1),t._v(" "),s("div",{staticClass:"navbar-brand d-none d-md-flex"},[s("h2",[t._v(t._s(t.app.name))])]),t._v(" "),s("div",{staticClass:"navbar-data"},[s("inertia-link",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"text-muted",attrs:{href:t.route("about"),title:"About "+t.app.name}},[s("i",{staticClass:"fas fa-info-circle"})]),t._v(" "),s("b-dropdown",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{variant:"link",title:"Account"},scopedSlots:t._u([{key:"button-content",fn:function(){return[s("b-avatar",{attrs:{variant:"warning",text:t.app.user.initials}})]},proxy:!0}])},[t._v(" "),s("inertia-link",{attrs:{as:"b-dropdown-item",href:t.route("settings.index")}},[s("i",{staticClass:"fas fa-cog"}),t._v(" Settings")]),t._v(" "),s("inertia-link",{attrs:{as:"b-dropdown-item",href:t.route("password.index")}},[s("i",{staticClass:"fas fa-key"}),t._v(" Change Password")]),t._v(" "),s("b-dropdown-divider"),t._v(" "),s("inertia-link",{attrs:{as:"b-dropdown-item",method:"post",href:t.route("logout")}},[s("i",{staticClass:"fas fa-sign-out-alt"}),t._v(" Logout")])],1),t._v(" "),s("button",{staticClass:"navbar-toggler d-xl-none",attrs:{type:"button"},on:{click:function(e){t.showNav=!t.showNav}}},[s("i",{staticClass:"fas fa-bars"})])],1)]),t._v(" "),s("div",{staticClass:"container-fluid page-body-wrapper"},[s("nav",{staticClass:"sidebar sidebar-nav",class:t.navbarActive,attrs:{id:"side-nav"}},[s("ul",{staticClass:"nav"},t._l(t.navbar,(function(e){return s("li",{key:e.name,staticClass:"nav-item"},[s("inertia-link",{staticClass:"nav-link",attrs:{href:e.route}},[s("i",{staticClass:"menu-icon",class:e.icon}),t._v(" "),s("span",{staticClass:"menu-title"},[t._v(t._s(e.name))])])],1)})),0)]),t._v(" "),s("div",{staticClass:"content"},[s("div",{staticClass:"content-wrapper"},[s("b-alert",{attrs:{variant:t.$page.props.flash.type,show:!!t.$page.props.flash.message&&30}},[s("p",{staticClass:"text-center"},[t._v(t._s(t.$page.props.flash.message))])]),t._v(" "),s("b-alert",{attrs:{variant:t.alert.type,show:!!t.alert.message&&30}},[s("p",{staticClass:"text-center"},[t._v(t._s(t.alert.message))])]),t._v(" "),t._t("default")],2),t._v(" "),s("axios-error"),t._v(" "),s("footer",{staticClass:" footer page-footer"},[s("div",{staticClass:"d-sm-flex justify-content-center justify-content-sm-between"},[t._m(0),t._v(" "),s("span",{staticClass:"text-muted float-none float-sm-right d-block mt-1 mt-sm-0 text-center"},[t._v(t._s(t.app.version))])])])],1)])])}),[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("span",{staticClass:"text-muted text-center text-sm-left d-block d-sm-inline-block"},[t._v("Copyright Â© 2016-2021"),s("span",{staticClass:"d-none d-md-inline"},[t._v(" Butcherman - All rights reserved.")])])}],!1,null,null,null).exports},6150:(t,e,s)=>{s.r(e),s.d(e,{default:()=>c});var a=s(3552);const i={props:{comments:{type:Array,required:!0},tip_id:{type:Number,required:!0},permissions:{type:Object,required:!0}},data:function(){return{submitted:!1,loading:!1,form:{tip_id:this.tip_id,comment:null},updateForm:{comment:null,comment_id:null}}},methods:{getFlaggedClass:function(t){return t.flagged?"fas text-danger":"far pointer text-muted"},canEdit:function(t){return t.user.username==this.$page.props.app.user.username},canDelete:function(t){return t.user.username==this.$page.props.app.user.username||this.permissions.manage},flagComment:function(t){this.$inertia.get(route("tips.comments.edit",t.id),{preserveScroll:!0})},editComment:function(t){this.updateForm.comment=t.comment,this.updateForm.comment_id=t.id,this.$refs["edit-comment-modal"].show()},deleteComment:function(t){var e=this;this.$bvModal.msgBoxConfirm("Please confirm you want to delete this comment.",{title:"Are You Sure?",size:"md",okVariant:"danger",okTitle:"Yes",cancelTitle:"No",centered:!0}).then((function(s){s&&e.$inertia.delete(route("tips.comments.destroy",t.id),{preserveScroll:!0})}))},submitComment:function(){var t=this;this.submitted=!0,this.$inertia.post(route("tips.comments.store"),this.form,{preserveScroll:!0,onSuccess:function(){t.form.comment=null,t.submitted=!1,t.$refs.validator.reset()}})},updateComment:function(){var t=this;this.loading=!0,this.$inertia.put(route("tips.comments.update",this.updateForm.comment_id),this.updateForm,{preserveScroll:!0,onSuccess:function(){t.$refs["edit-comment-modal"].hide(),t.loading=!1}})}}};var o=s(1900);const n=(0,o.Z)(i,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row justify-content-center"},[s("div",{staticClass:"col-md-8 grid-margin"},[s("div",{staticClass:"card rounded"},[s("div",{staticClass:"card-body"},[s("div",{staticClass:"card-title"},[t._v("\n                    Discussion:\n                ")]),t._v(" "),0==t.comments.length?s("div",[s("h5",{staticClass:"text-center"},[t._v("No Comments Yet")])]):s("div",{staticClass:"mb-4"},t._l(t.comments,(function(e){return s("div",{key:e.comment_id,staticClass:"border rounded p-4 mt-2"},[s("div",{staticClass:"mb-2"},[s("span",{staticClass:"float-right"},[s("i",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"fa-flag pl-2",class:t.getFlaggedClass(e),attrs:{title:"Flag as Innappropriate"},on:{click:function(s){return t.flagComment(e)}}}),t._v(" "),t.canEdit(e)?s("i",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"fas fa-pencil-alt pointer pl-2 text-muted",attrs:{title:"Edit Comment"},on:{click:function(s){return t.editComment(e)}}}):t._e(),t._v(" "),t.canDelete(e)?s("i",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"far fa-trash-alt text-danger pointer pl-2",attrs:{title:"Delete"},on:{click:function(s){return t.deleteComment(e)}}}):t._e()]),t._v("\n                            "+t._s(e.comment)+"\n                        ")]),t._v(" "),s("div",{staticClass:"border-top text-secondary"},[t._v("\n                            "+t._s(e.user.full_name)+"\n                            "),s("div",{staticClass:"float-right"},[t._v(t._s(e.created_at))])])])})),0),t._v(" "),s("b-overlay",{attrs:{show:t.submitted},scopedSlots:t._u([{key:"overlay",fn:function(){return[s("atom-loader")]},proxy:!0}])},[t._v(" "),s("ValidationObserver",{ref:"validator",scopedSlots:t._u([{key:"default",fn:function(e){var a=e.handleSubmit;return[t.permissions.create?s("b-form",{attrs:{novalidate:""},on:{submit:function(e){return e.preventDefault(),a(t.submitComment)}}},[s("ValidationProvider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("b-form-group",[s("b-form-textarea",{attrs:{placeholder:"Comment on this Tech Tip...",rows:"3","max-rows":"6"},model:{value:t.form.comment,callback:function(e){t.$set(t.form,"comment",e)},expression:"form.comment"}}),t._v(" "),s("b-form-invalid-feedback",{attrs:{state:!1}},[t._v(t._s(e.errors[0]))])],1)]}}],null,!0)}),t._v(" "),s("submit-button",{staticClass:"mt-2",attrs:{button_text:"Add Comment",submitted:t.submitted}})],1):t._e()]}}])})],1)],1)])]),t._v(" "),s("b-modal",{ref:"edit-comment-modal",attrs:{id:"edit-comment-modal",title:"Edit Comment","hide-footer":""}},[s("b-overlay",{attrs:{show:t.loading},scopedSlots:t._u([{key:"overlay",fn:function(){return[s("form-loader")]},proxy:!0}])},[t._v(" "),s("ValidationObserver",{ref:"validator",scopedSlots:t._u([{key:"default",fn:function(e){var a=e.handleSubmit;return[s("b-form",{attrs:{novalidate:""},on:{submit:function(e){return e.preventDefault(),a(t.updateComment)}}},[s("ValidationProvider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("b-form-group",[s("b-form-textarea",{attrs:{rows:"3","max-rows":"6"},model:{value:t.updateForm.comment,callback:function(e){t.$set(t.updateForm,"comment",e)},expression:"updateForm.comment"}}),t._v(" "),s("b-form-invalid-feedback",{attrs:{state:!1}},[t._v(t._s(e.errors[0]))])],1)]}}],null,!0)}),t._v(" "),s("submit-button",{staticClass:"mt-2",attrs:{button_text:"Update Comment",submitted:t.loading}})],1)]}}])})],1)],1)],1)}),[],!1,null,null,null).exports;const r={props:{permissions:{type:Object,required:!0},tip_id:{type:Number,required:!0}},data:function(){return{loading:!1,items:[{}]}},methods:{getDetails:function(){var t=this;this.loading=!0,axios.get(route("tips.details",this.tip_id)).then((function(e){t.items=[e.data],t.loading=!1})).catch((function(e){return t.eventHub.$emit("axiosError",e)}))},deleteTip:function(){var t=this;this.$bvModal.msgBoxConfirm("Please Verify",{title:"Are you sure you want to delete this Tech Tip?",size:"sm",buttonSize:"sm",okVariant:"danger",okTitle:"YES",cancelTitle:"NO",footerClass:"p-2",hideHeaderClose:!1,centered:!0}).then((function(e){e&&(t.loading=!0,t.$inertia.delete(route("tech-tips.destroy",t.tip_id)))}))}}};const l={components:{manageTip:(0,o.Z)(r,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}},{name:"b-modal",rawName:"v-b-modal.manage-tip-modal",modifiers:{"manage-tip-modal":!0}}],staticClass:"mt-1",attrs:{pill:"",block:"",variant:"danger",size:"sm",title:"Manage Tech Tip"}},[s("i",{staticClass:"fas fa-tasks"}),t._v("\n    Manage\n    "),s("b-modal",{attrs:{id:"manage-tip-modal",title:"Manage Tech Tip","hide-footer":""},on:{show:t.getDetails}},[s("b-overlay",{attrs:{show:t.loading},scopedSlots:t._u([{key:"overlay",fn:function(){return[s("atom-loader")]},proxy:!0}])},[t._v(" "),s("div",{staticClass:"row justify-content-center"},[t.permissions.manage?s("div",{staticClass:"col-md-10"},[s("h4",{staticClass:"text-center"},[t._v("Details")]),t._v(" "),s("b-table",{attrs:{stacked:"",items:t.items}})],1):t._e()]),t._v(" "),s("div",{staticClass:"row justify-content-center"},[t.permissions.edit?s("div",{staticClass:"col-md-4"},[s("inertia-link",{attrs:{as:"b-button",href:t.route("tech-tips.edit",t.tip_id),block:"",variant:"warning"}},[t._v("Edit Tip")])],1):t._e(),t._v(" "),t.permissions.delete?s("div",{staticClass:"col-md-4"},[s("b-button",{attrs:{block:"",variant:"danger"},on:{click:t.deleteTip}},[t._v("Delete Tip")])],1):t._e()])])],1)],1)}),[],!1,null,null,null).exports,Discussion:n},layout:a.Z,props:{tip:{type:Object,required:!0},user_data:{type:Object,required:!0}},data:function(){return{is_fav:this.user_data.fav}},computed:{bookmark_class:function(){return this.is_fav?"fas fa-bookmark bookmark-checked":"far fa-bookmark bookmark-unchecked"},bookmark_title:function(){return this.is_fav?"Remove From Bookmarks":"Add to Bookmarks"}},methods:{toggleFav:function(){var t=this,e={tip_id:this.tip.tip_id,state:!this.is_fav};axios.post(route("tips.bookmark"),e).then((function(){t.is_fav=!t.is_fav})).catch((function(e){return t.eventHub.$emit("axiosError",e)}))}},metaInfo:{title:"Tech Tip Details"}};const c=(0,o.Z)(l,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"row"},[s("div",{staticClass:"col-sm-10 grid-margin"},[s("h3",[s("i",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],class:t.bookmark_class,attrs:{title:t.bookmark_title},on:{click:t.toggleFav}}),t._v("\n                "+t._s(t.tip.subject)+"\n            ")]),t._v(" "),s("div",{staticClass:"tip-details"},[s("span",{staticClass:"d-block d-sm-inline-block"},[s("strong",[t._v("ID: ")]),t._v(t._s(t.tip.tip_id))]),t._v(" "),s("span",{staticClass:"d-block d-sm-inline-block"},[s("strong",[t._v("Created: ")]),t._v(t._s(t.tip.created_at))]),t._v(" "),s("span",{staticClass:"d-block d-sm-inline-block"},[s("strong",[t._v("Last Updated: ")]),t._v(t._s(t.tip.updated_at))])])]),t._v(" "),s("div",{staticClass:"col-sm-2"},[s("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{href:t.route("tips.download",t.tip.tip_id),variant:"info",size:"sm",block:"",pill:"",title:"Download as PDF"}},[s("i",{staticClass:"fas fa-download"}),t._v("\n                Download Tip\n            ")]),t._v(" "),s("manage-tip",{attrs:{tip_id:t.tip.tip_id,permissions:t.user_data.permissions}})],1)]),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col tip-equipment grid-margin"},[t._m(0),t._v(" "),t._l(t.tip.equipment_type,(function(e){return s("b-badge",{key:e.equip_id,staticClass:"ml-1 mb-1",attrs:{pill:"",variant:"info"}},[t._v(t._s(e.name))])}))],2)]),t._v(" "),s("div",{staticClass:"row grid-margin justify-content-center"},[s("div",{staticClass:"col"},[s("div",{staticClass:"card rounded"},[s("div",{staticClass:"card-body"},[s("div",{staticClass:"card-title"},[t._v("Details:")]),t._v(" "),s("div",{domProps:{innerHTML:t._s(t.tip.details)}})])])])]),t._v(" "),t.tip.file_uploads.length>=1?s("div",{staticClass:"row grid-margin justify-content-center"},[s("div",{staticClass:"col"},[s("div",{staticClass:"card rounded"},[s("div",{staticClass:"card-body"},[s("div",{staticClass:"card-title"},[t._v("Attachments:")]),t._v(" "),s("ul",{staticClass:"list-group px-5"},t._l(t.tip.file_uploads,(function(e){return s("li",{key:e.file_id,staticClass:"list-group-item"},[s("a",{attrs:{href:t.route("download",[e.file_id,e.file_name])}},[t._v(t._s(e.file_name))])])})),0)])])])]):t._e(),t._v(" "),s("discussion",{attrs:{comments:t.tip.tech_tip_comment,tip_id:t.tip.tip_id,permissions:t.user_data.permissions.comment}})],1)}),[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("strong",[t._v("For Equipment:")])])}],!1,null,null,null).exports}}]);